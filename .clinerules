# AI開発ルール

必ず以下のルールに従ってください。

## 共通
- 英語で思考し、日本語で出力
- backupフォルダと中の参照は禁止
    - 必ず、 **backupフォルダのプログラムを使わずに** 新規に作成すること
- フォルダ作成（mkdir）や移動（cd）は禁止
- ファイルの削除は原則禁止
- ファイル編集は確認せずに実行
- 作成するアプリがフロントエンドだけか、サーバーサイドを含むWebアプリかを明確に判断し、それに応じたルールに従うこと

### Leaflet 利用時の注意
- Leaflet を CDN から読み込む場合、`integrity` 属性は**付けないこと**。
  - 理由：AIが自動生成した `integrity` の値は正しくない場合が多く、ロードがブロックされて地図が表示されません。
- 必要に応じて `crossorigin` 属性はそのまま残してOK。
- 公式ドキュメントのサンプル、または下記のような記述を使うこと：

## フロントエンドだけのWebアプリ
- サーバー作成や実行は禁止
- AIはフロントのプログラム作成まで実施し
- ファイル名はindex.htmlとして出力
- タスク終了後は`npx serve`でサーバー起動をして確認するようにユーザーに促すこと

## サーバーサイドを含むWebアプリ
- Node.jsを使用
- 指定が無ければ、基本は"/"にアクセスするとメインのアプリページが表示される仕様とする
    - ルーティングはExpressを使用し、`/`にアクセスした際に`index.html`を返すWebサーバー機能を内包すること
- サーバーの起動は`npm start`で行う
- npm init -yおよびnpm installまで実行し、プログラム作成まででタスクを終える
    - ライブラリをインストールする際に対話型の実行が発生しないインストール形式を選択し、シンプルな構成にする
- npm startで起動できる状態にし、package.jsonにnpm scriptを記述
- プログラムの実行は禁止
- タスク終了時に`lsof -t -i:3000`で既にポートが使用されていないか調べ、使用されている場合は`npx kill-port 3000`でポートを解放するようにユーザーに促すこと
- LINE Botのアプリを作成する場合はngrokなどのトンネリングツールの利用は禁止し、ローカルでの実行までとする
